<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Willow Cricket Live v18.26</title>
  <style>
    body {
      margin: 0;
      background-color: #000;
      color: white;
      font-family: Arial, sans-serif;
    }

    .iframe-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      height: 600px;
      margin: 40px auto;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    button {
      display: block;
      margin: 10px auto 40px;
      padding: 10px 20px;
      font-size: 18px;
      background: #ff4444;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: white;
    }

    #nav-placeholder, #footer-placeholder {
      width: 100%;
    }
  </style>
</head>
<body>

  <div id="nav-placeholder"></div>

  <h2 style="text-align: center;">Willow Cricket Live Telecast</h2>

  <div class="iframe-container" id="iframeWrapper">
    <iframe
      id="myIframe"
      allowfullscreen
      allow="fullscreen"
      referrerpolicy="no-referrer"
    ></iframe>
  </div>

  <button onclick="openFullscreen()">Go Fullscreen</button>

  <div id="footer-placeholder"></div>

  <script>
// Load header.html
fetch('https://github.com/animeneek/MN/blob/main/header.html')
  .then(res => res.text())
  .then(data => {
    document.getElementById('nav-placeholder').innerHTML = data;
    const searchBox = document.getElementById('searchBox');
    if (searchBox) {
      searchBox.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          const query = e.target.value.trim();
          if (query) {
            window.location.href = `../search.html?q=${encodeURIComponent(query)}`;
          }
        }
      });
  }
});

// Load footer.html
fetch('https://github.com/animeneek/MN/blob/main/footer.html')
  .then(res => res.text())
  .then(data => {
    document.getElementById('footer-placeholder').innerHTML = data;
  });


    // Decode and embed iframe
    function decodeAndLoadIframe() {
      const encodedUrl = "aHR0cHM6Ly90YW1hc2hhbGl2ZS5naXRodWIuaW8vd2lsbG93LWNyaWNrZXQuaHRtbA==";
      const decodedUrl = atob(encodedUrl);
      document.getElementById('myIframe').src = decodedUrl;
    }

    // Fullscreen function
    function openFullscreen() {
      const elem = document.getElementById("iframeWrapper");
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.webkitRequestFullscreen) {
        elem.webkitRequestFullscreen();
      } else if (elem.mozRequestFullScreen) {
        elem.mozRequestFullScreen();
      } else if (elem.msRequestFullscreen) {
        elem.msRequestFullscreen();
      }
    }

    // Block popup windows and prevent redirection
    window.open = function () {
      console.warn("Blocked an attempt to open a popup.");
      return null;
    };

    document.addEventListener("click", function (e) {
      const target = e.target.closest("a");
      if (target && target.target === "_blank") {
        e.preventDefault();
        console.warn("Blocked external link:", target.href);
      }
    });

    window.onload = decodeAndLoadIframe;
  </script>

</body>
</html>
